---
- hosts: all
  tasks:
    # TODO: download the installer, check hash (!), chmod and execute
    # ref: https://github.com/markosamuli/ansible-pyenv
    #
    # - name: Install Pyenv
    #   shell: curl -sSL -o pyenv-installer https://raw.githubusercontent.com/pyenv/pyenv-installer/master/bin/pyenv-installer
    - name: (Fedora) install necessary build environment
      dnf:
        name:
          - make
          - gcc
          - patch
          - zlib-devel
          - bzip2
          - bzip2-devel
          - readline-devel
          - sqlite
          - sqlite-devel
          - openssl-devel
          - tk-devel
          - libffi-devel
          - xz-devel
          - libuuid-devel
          - gdbm-libs
          - libnsl2
        when: ansible_facts['distribution'] == 'Fedora'
